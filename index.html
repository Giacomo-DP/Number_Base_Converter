<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Number Base Converter & Trainer</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ”¢</text></svg>">
  <style>
    body {
      font-family: 'Inter', sans-serif; /* A nice default sans-serif font */
    }
    /* Additional global styles if needed */
    @keyframes star-gain-animation {
      0% { opacity: 0; transform: translateY(5px) scale(1); }
      50% { opacity: 1; transform: translateY(-30px) scale(2.0); } /* Bigger and further up */
      100% { opacity: 0; transform: translateY(-50px) scale(1.7); } /* Adjust end state too */
    }
    .animate-star-gain {
      animation: star-gain-animation 3.5s ease-out forwards; /* Slower duration */
    }
    .visually-hidden {
      position: absolute;
      width: 1px;
      height: 1px;
      margin: -1px;
      padding: 0;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      border: 0;
    }
    /* Animazione per il contorno lampeggiante del pulsante Pratica */
    @keyframes flashing-yellow-border {
      0%, 100% {
        box-shadow: 0 0 0 2px rgba(251, 191, 36, 0); /* Giallo-400 trasparente */
      }
      50% {
        box-shadow: 0 0 0 3px rgb(251, 191, 36); /* Giallo-400 solido */
      }
    }
    .animate-flashing-border {
      animation: flashing-yellow-border 2s ease-in-out infinite;
    }
  </style>
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.1.0",
    "react-dom/": "https://esm.sh/react-dom@^19.1.0/",
    "react/": "https://esm.sh/react@^19.1.0/"
  }
}
</script>
</head>
<body class="bg-slate-100">
<!-- About Project Section (Styled with white background) -->
    <section class="bg-white text-gray-800 text-center text-base rounded-lg p-8 mb-6">
        <h2 class="text-xl font-semibold mb-3 text-black">About this project</h2>
        <p class="mx-auto">Questo sito Ã¨ stato sviluppato da <strong>Giacomo Dalla Pozza</strong> per scopi educativi.
		<a href="https://www.linkedin.com/in/giacomodallapozza" target="_blank" rel="noopener noreferrer" class="inline-block ml-2">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 text-blue-600 hover:text-blue-500">
                        <path d="M20.5 2h-17A1.5 1.5 0 002 3.5v17A1.5 1.5 0 003.5 22h17a1.5 1.5 0 001.5-1.5v-17A1.5 1.5 0 0020.5 2zM8 19H5v-9h3zM6.5 8.25A1.75 1.75 0 118.25 6.5 1.75 1.75 0 016.5 8.25zM19 19h-3v-4.74c0-1.42-.6-1.93-1.38-1.93-.94 0-1.62.68-1.62 1.93V19h-3v-9h2.9v1.3a3.11 3.11 0 012.7-1.4c1.55 0 3.38.99 3.38 3.5V19z"></path>
                    </svg>
                </a>
        <p class="mt-4">
            Licenza:
            <a class="text-blue-600 underline hover:text-blue-500" href="https://creativecommons.org/licenses/by-nc/4.0/" rel="noopener noreferrer" target="_blank">
                Creative Commons BY-NC 4.0
            </a>
        </p>
        <p class="mt-4 italic text-gray-600">Questo sito non raccoglie nÃ© conserva alcun dato personale.</p>
    </section>

  <div id="root"></div>
  <script type="module">
    // React and ReactDOM imports
    import React, { useState, useCallback, useEffect, useRef } from 'https://esm.sh/react@^19.1.0';
    import ReactDOM from 'https://esm.sh/react-dom@^19.1.0/client';

    // --- START OF INLINED types.ts ---
    const Base = {
      DECIMAL: 10,
      BINARY: 2,
      OCTAL: 8,
      HEXADECIMAL: 16,
    };
    // Interfaces BaseOption, PracticeProblem are design-time only and are not represented in JS
    // --- END OF INLINED types.ts ---

    // --- START OF INLINED constants.ts ---
    const BASE_OPTIONS = [
      { value: Base.DECIMAL, label: 'Decimale (Base 10)' },
      { value: Base.BINARY, label: 'Binario (Base 2)' },
      { value: Base.OCTAL, label: 'Ottale (Base 8)' },
      { value: Base.HEXADECIMAL, label: 'Esadecimale (Base 16)' },
    ];
    const MAX_PRACTICE_DECIMAL_VALUE = 255;
    const DEFAULT_GLOBAL_FONT_SCALE = 1.2; // Updated to 1.2
    const MIN_GLOBAL_FONT_SCALE = 0.8;
    const MAX_GLOBAL_FONT_SCALE = 1.4;
    const GLOBAL_FONT_SCALE_STEP = 0.1;
    // --- END OF INLINED constants.ts ---

    // --- START OF INLINED utils/conversionLogic.ts ---
    function isValidNumberForBase(value, base) {
      if (value === '') return true;
      let regex;
      switch (base) {
        case Base.BINARY:
          regex = /^[01]+$/;
          break;
        case Base.OCTAL:
          regex = /^[0-7]+$/;
          break;
        case Base.DECIMAL:
          regex = /^[0-9]+$/;
          break;
        case Base.HEXADECIMAL:
          regex = /^[0-9A-Fa-f]+$/;
          break;
        default:
          return false;
      }
      return regex.test(value);
    }

    function convertToBase(value, sourceBase, targetBase) {
      if (value.trim() === '') {
        return { result: '', error: null };
      }
      if (!isValidNumberForBase(value, sourceBase)) {
        return { result: null, error: `Numero non valido per la base ${sourceBase}.` };
      }
      if (sourceBase === targetBase) {
        return { result: value.toUpperCase(), error: null };
      }
      let decimalValue;
      if (sourceBase === Base.DECIMAL) {
        decimalValue = parseInt(value, 10);
      } else {
        decimalValue = parseInt(value, sourceBase);
      }
      if (isNaN(decimalValue)) {
        return { result: null, error: 'Errore durante la conversione decimale intermedia.' };
      }
      if (decimalValue < 0) {
        return { result: null, error: 'I numeri negativi non sono supportati per questa conversione.' };
      }
      let resultString = decimalValue.toString(targetBase);
      if (targetBase === Base.HEXADECIMAL) {
        resultString = resultString.toUpperCase();
      }
      return { result: resultString, error: null };
    }

    function generateRandomDecimal(max) {
      return Math.floor(Math.random() * (max + 1));
    }

    function getBaseName(base) {
        const option = BASE_OPTIONS.find(opt => opt.value === base);
        return option ? option.label.split(' ')[0] : `Base ${base}`;
    }

    function generateSolutionToDecimalHTML(problemValue, sourceBase, decimalAnswer) {
        let html = `<div class="text-left">`;
        html += `<p class="mb-2"><strong>Soluzione Passo-Passo (Da ${getBaseName(sourceBase)} a Decimale):</strong></p>`;
        html += `<p class="font-mono break-all">(${problemValue.toUpperCase()})<sub>${sourceBase}</sub> =</p>`;

        const digits = problemValue.toUpperCase().split('');
        let expansionTerms = [];
        let expansionValues = [];
        let calculatedValues = [];

        for (let i = 0; i < digits.length; i++) {
            const digit = digits[i];
            const digitValue = parseInt(digit, sourceBase);
            const power = digits.length - 1 - i;
            expansionTerms.push(`(${digit} Ã— ${sourceBase}<sup>${power}</sup>)`);
            if (power > 0) {
                expansionValues.push(`(${digitValue} Ã— ${Math.pow(sourceBase, power)})`);
            } else {
                expansionValues.push(`(${digitValue} Ã— 1)`);
            }
            calculatedValues.push(digitValue * Math.pow(sourceBase, power));
        }

        html += `<p class="font-mono pl-4">`;
        html += `<span class="inline-block">=</span>`;
        expansionTerms.forEach((term, index) => {
            if (index > 0) {
                html += `<span class="inline-block">+</span>`;
            }
            html += `<span class="inline-block">${term}</span>`;
        });
        html += `</p>`;

        if (sourceBase !== 10) {
            html += `<p class="font-mono pl-4">`;
            html += `<span class="inline-block">=</span>`;
            expansionValues.forEach((term, index) => {
                if (index > 0) {
                    html += `<span class="inline-block">+</span>`;
                }
                html += `<span class="inline-block">${term}</span>`;
            });
            html += `</p>`;
        }

        html += `<p class="font-mono pl-4">`;
        html += `<span class="inline-block">=</span>`;
        calculatedValues.forEach((value, index) => {
            if (index > 0) {
                html += `<span class="inline-block">+</span>`;
            }
            html += `<span class="inline-block">${value}</span>`;
        });
        html += `</p>`;

        html += `<p class="font-mono break-all">= (${decimalAnswer})<sub>10</sub></p>`;
        html += `</div>`;
        return html;
    }

    function generateSolutionFromDecimalHTML(decimalValueStr, targetBase, targetBaseAnswer) {
        let html = `<div class="text-left">`;
        html += `<p class="mb-2"><strong>Soluzione Passo-Passo (Da Decimale a ${getBaseName(targetBase)}):</strong></p>`;

        let currentDecimalValue = parseInt(decimalValueStr, 10);
        if (isNaN(currentDecimalValue)) {
            return "<p>Errore: Valore decimale non valido per la generazione della soluzione.</p>";
        }

        if (currentDecimalValue === 0) {
          html += `<p class="font-mono">(0)<sub>10</sub> = (0)<sub>${targetBase}</sub></p></div>`;
          return html;
        }

        html += `<div class="font-mono space-y-1">`;
        let remainders = [];

        if (currentDecimalValue === 0) {
          html += `<p>${currentDecimalValue} Ã· ${targetBase} = 0 resto 0</p>`;
          remainders.push(0);
        } else {
          while (currentDecimalValue > 0) {
            const quotient = Math.floor(currentDecimalValue / targetBase);
            const remainder = currentDecimalValue % targetBase;
            html += `<p>${currentDecimalValue} Ã· ${targetBase} = ${quotient} resto ${targetBase === Base.HEXADECIMAL ? remainder.toString(16).toUpperCase() : remainder}</p>`;
            remainders.unshift(targetBase === Base.HEXADECIMAL ? remainder.toString(16).toUpperCase() : remainder);
            currentDecimalValue = quotient;
          }
        }
        html += `</div>`;
        html += `<p class="mt-2">Leggendo i resti dal basso verso l'alto: ${remainders.join('')}</p>`;
        html += `<p class="font-mono mt-1 break-all">Quindi, (${decimalValueStr})<sub>10</sub> = (${targetBaseAnswer.toUpperCase()})<sub>${targetBase}</sub></p>`;
        html += `</div>`;
        return html;
    }
    // --- END OF INLINED utils/conversionLogic.ts ---

    // --- START OF INLINED ocrProblems.ts ---
    const generateId = () => Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);
    const OCR_EXERCISES = [
      { id: generateId(), value: "0100110101", base: Base.BINARY, targetBase: Base.DECIMAL, correctAnswer: "309", questionDescription: "Converti da Binario a Decimale" },
      { id: generateId(), value: "000111000111", base: Base.BINARY, targetBase: Base.DECIMAL, correctAnswer: "455", questionDescription: "Converti da Binario a Decimale" },
      { id: generateId(), value: "11000011", base: Base.BINARY, targetBase: Base.DECIMAL, correctAnswer: "195", questionDescription: "Converti da Binario a Decimale" },
      { id: generateId(), value: "0201100121", base: Base.BINARY, targetBase: Base.DECIMAL, correctAnswer: "", isActuallyInvalid: true, questionDescription: "Valuta la validitÃ  del numero per la sua base. Se ritieni sia invalido, spunta la casella 'Input Invalido'." },
      { id: generateId(), value: "5610", base: Base.OCTAL, targetBase: Base.DECIMAL, correctAnswer: "2952", questionDescription: "Converti da Ottale a Decimale" },
      { id: generateId(), value: "1001", base: Base.OCTAL, targetBase: Base.DECIMAL, correctAnswer: "513", questionDescription: "Converti da Ottale a Decimale" },
      { id: generateId(), value: "7061", base: Base.OCTAL, targetBase: Base.DECIMAL, correctAnswer: "3633", questionDescription: "Converti da Ottale a Decimale" },
      { id: generateId(), value: "80034", base: Base.OCTAL, targetBase: Base.DECIMAL, correctAnswer: "", isActuallyInvalid: true, questionDescription: "Valuta la validitÃ  del numero per la sua base. Se ritieni sia invalido, spunta la casella 'Input Invalido'." },
      { id: generateId(), value: "017AF", base: Base.HEXADECIMAL, targetBase: Base.DECIMAL, correctAnswer: "6063", questionDescription: "Converti da Esadecimale a Decimale" },
      { id: generateId(), value: "17E3", base: Base.HEXADECIMAL, targetBase: Base.DECIMAL, correctAnswer: "6115", questionDescription: "Converti da Esadecimale a Decimale (valore OCR: 17E3H)" },
      { id: generateId(), value: "CAD", base: Base.HEXADECIMAL, targetBase: Base.DECIMAL, correctAnswer: "3245", questionDescription: "Converti da Esadecimale a Decimale" },
      { id: generateId(), value: "029H2", base: Base.HEXADECIMAL, targetBase: Base.DECIMAL, correctAnswer: "", isActuallyInvalid: true, questionDescription: "Valuta la validitÃ  del numero (es. '029H2') per la sua base. Se ritieni sia invalido, spunta la casella 'Input Invalido'." },
      { id: generateId(), value: "120", base: Base.DECIMAL, targetBase: Base.BINARY, correctAnswer: "1111000", questionDescription: "Converti da Decimale a Binario" },
      { id: generateId(), value: "200", base: Base.DECIMAL, targetBase: Base.BINARY, correctAnswer: "11001000", questionDescription: "Converti da Decimale a Binario" },
      { id: generateId(), value: "27", base: Base.DECIMAL, targetBase: Base.BINARY, correctAnswer: "11011", questionDescription: "Converti da Decimale a Binario" },
      { id: generateId(), value: "139", base: Base.DECIMAL, targetBase: Base.BINARY, correctAnswer: "10001011", questionDescription: "Converti da Decimale a Binario" },
      { id: generateId(), value: "300", base: Base.DECIMAL, targetBase: Base.OCTAL, correctAnswer: "454", questionDescription: "Converti da Decimale a Ottale" },
      { id: generateId(), value: "152", base: Base.DECIMAL, targetBase: Base.OCTAL, correctAnswer: "230", questionDescription: "Converti da Decimale a Ottale" },
      { id: generateId(), value: "24", base: Base.DECIMAL, targetBase: Base.OCTAL, correctAnswer: "30", questionDescription: "Converti da Decimale a Ottale" },
      { id: generateId(), value: "9", base: Base.DECIMAL, targetBase: Base.OCTAL, correctAnswer: "11", questionDescription: "Converti da Decimale a Ottale" },
      { id: generateId(), value: "492", base: Base.DECIMAL, targetBase: Base.HEXADECIMAL, correctAnswer: "1EC", questionDescription: "Converti da Decimale a Esadecimale" },
      { id: generateId(), value: "234", base: Base.DECIMAL, targetBase: Base.HEXADECIMAL, correctAnswer: "EA", questionDescription: "Converti da Decimale a Esadecimale" },
      { id: generateId(), value: "40032", base: Base.DECIMAL, targetBase: Base.HEXADECIMAL, correctAnswer: "9C60", questionDescription: "Converti da Decimale a Esadecimale" },
      { id: generateId(), value: "5280", base: Base.DECIMAL, targetBase: Base.HEXADECIMAL, correctAnswer: "14A0", questionDescription: "Converti da Decimale a Esadecimale" },
    ];
    const LS_PRACTICE_SCORE_KEY = 'numberConverterPracticeScore';
    const LS_PRACTICE_ATTEMPTED_KEY = 'numberConverterPracticeQuestionsAttempted';
    const LS_PRACTICE_INDEX_KEY = 'numberConverterPracticeCurrentProblemIndex';
    // --- END OF INLINED ocrProblems.ts ---

    // --- START OF INLINED components/ui/Input.tsx ---
    const Input = ({ label, id, error, className, containerClassName, ...props }) => {
      return (
        React.createElement("div", { className: `w-full ${containerClassName}` },
          label && React.createElement("label", { htmlFor: id, className: "block text-sm font-medium text-gray-700 mb-1" }, label),
          React.createElement("input", {
            id: id,
            className: `mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400
                        focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm
                        disabled:bg-slate-50 disabled:text-slate-500 disabled:border-slate-200 disabled:shadow-none
                        ${error ? 'border-red-500 focus:ring-red-500 focus:border-red-500' : ''} ${className}`,
            ...props
          }),
          error && React.createElement("p", { className: "mt-1 text-xs text-red-500" }, error)
        )
      );
    };
    // --- END OF INLINED components/ui/Input.tsx ---

    // --- START OF INLINED components/ui/Button.tsx ---
    const Button = ({ children, className, variant = 'primary', fullWidth = false, ...props }) => {
      const baseStyle = "font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-200 ease-in-out";
      const widthStyle = fullWidth ? "w-full flex justify-center" : "";
      const variantStyles = {
        primary: "px-4 py-2 border border-transparent text-sm text-white bg-blue-600 hover:bg-blue-700 focus:ring-blue-500 disabled:bg-blue-300 rounded-md shadow-sm",
        secondary: "px-4 py-2 border border-gray-300 text-sm text-gray-700 bg-white hover:bg-gray-50 focus:ring-indigo-500 disabled:bg-gray-200 rounded-md shadow-sm",
        tab: "px-6 py-2.5 text-base rounded-full text-slate-700 hover:bg-slate-200/60 focus:ring-blue-500 focus:ring-offset-2",
        'tab-active': "px-6 py-2.5 text-base rounded-full font-semibold text-white bg-blue-600 shadow-md",
        success: "px-4 py-2 border border-transparent text-sm text-white bg-green-600 hover:bg-green-700 focus:ring-green-500 disabled:bg-green-300",
        danger: "px-4 py-2 border border-transparent text-sm text-white bg-red-600 hover:bg-red-700 focus:ring-red-500 disabled:bg-red-300",
      };
      return (
        React.createElement("button", {
          type: "button",
          className: `${baseStyle} ${variantStyles[variant]} ${widthStyle} ${className}`,
          ...props
        }, children)
      );
    };
    // --- END OF INLINED components/ui/Button.tsx ---

    // --- START OF INLINED components/ui/Select.tsx ---
    const Select = ({ label, id, options, className, containerClassName, ...props }) => {
      return (
        React.createElement("div", { className: `w-full ${containerClassName}` },
          label && React.createElement("label", { htmlFor: id, className: "block text-sm font-medium text-gray-700 mb-1" }, label),
          React.createElement("select", {
            id: id,
            className: `mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md bg-white ${className}`,
            ...props
          }, options.map(option => (
            React.createElement("option", { key: option.value, value: option.value }, option.label)
          )))
        )
      );
    };
    // --- END OF INLINED components/ui/Select.tsx ---

    // --- START OF INLINED components/ui/Card.tsx ---
    const Card = ({ children, className, title, titleClassName }) => {
      return (
        React.createElement("div", { className: `bg-white shadow-xl rounded-lg ${className}` },
          title && React.createElement("h2", { className: `text-xl font-semibold text-gray-800 p-6 pb-2 ${titleClassName}` }, title),
          React.createElement("div", { className: `${title ? 'p-6 pt-4' : 'p-6'}` }, children)
        )
      );
    };
    // --- END OF INLINED components/ui/Card.tsx ---

    // --- START OF INLINED components/ui/FontSizeControls.tsx ---
    const FontSizeControls = ({ scale, increase, decrease, minScale, maxScale }) => {
      return (
        React.createElement("div", { className: "fixed bottom-4 right-4 flex flex-col items-center p-2 bg-white/80 backdrop-blur-sm rounded-lg shadow-lg border border-slate-200 z-50" },
          React.createElement("span", { className: "text-xs text-slate-700 mb-1 font-medium select-none", id: "font-size-label" }, "Dimensione Testo"),
          React.createElement("div", { className: "flex space-x-1" },
            React.createElement(Button, {
              onClick: decrease,
              variant: "secondary",
              className: "p-1.5 !text-sm",
              "aria-label": "Riduci dimensione testo",
              "aria-describedby": "font-size-label",
              disabled: scale <= minScale,
              title: "Riduci dimensione testo"
            },
              React.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 2.5, stroke: "currentColor", className: "w-4 h-4" },
                React.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M18 12H6" })
              )
            ),
            React.createElement(Button, {
              onClick: increase,
              variant: "secondary",
              className: "p-1.5 !text-sm",
              "aria-label": "Aumenta dimensione testo",
              "aria-describedby": "font-size-label",
              disabled: scale >= maxScale,
              title: "Aumenta dimensione testo"
            },
              React.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 2.5, stroke: "currentColor", className: "w-4 h-4" },
                React.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M12 6v12m6-6H6" })
              )
            )
          )
        )
      );
    };
    // --- END OF INLINED components/ui/FontSizeControls.tsx ---

    // --- START OF INLINED components/ConversionForm.tsx ---
    const ConversionForm = () => {
      const [inputValue, setInputValue] = useState('');
      const [sourceBase, setSourceBase] = useState(Base.DECIMAL);
      const [targetBase, setTargetBase] = useState(Base.BINARY);
      const [result, setResult] = useState('');
      const [error, setError] = useState('');
      const [inputError, setInputError] = useState('');

      const handleInputChange = (e) => {
        const value = e.target.value;
        setInputValue(value);
        if (value.trim() === '') {
          setInputError('');
          setResult('');
          setError('');
          return;
        }
        if (!isValidNumberForBase(value, sourceBase)) {
          setInputError(`Carattere non valido per la base ${sourceBase}.`);
        } else {
          setInputError('');
        }
      };

      const handleSourceBaseChange = (e) => {
        const newSourceBase = parseInt(e.target.value);
        setSourceBase(newSourceBase);
        if (inputValue.trim() !== '' && !isValidNumberForBase(inputValue, newSourceBase)) {
          setInputError(`Carattere non valido per la base ${newSourceBase}.`);
        } else {
          setInputError('');
        }
        setResult('');
        setError('');
      };

      const handleTargetBaseChange = (e) => {
        setTargetBase(parseInt(e.target.value));
        setResult('');
        setError('');
      };

      const handleConvert = useCallback(() => {
        setError('');
        setResult('');
        if (inputError) {
            setError('Correggi il valore di input prima di convertire.');
            return;
        }
        if (inputValue.trim() === '') {
          setError("Il valore di input non puÃ² essere vuoto.");
          return;
        }
        const conversion = convertToBase(inputValue, sourceBase, targetBase);
        if (conversion.error) {
          setError(conversion.error);
        } else if (conversion.result !== null) {
          setResult(conversion.result);
        }
      }, [inputValue, sourceBase, targetBase, inputError]);

      const swapBases = () => {
        const currentInput = inputValue;
        const currentResult = result;
        setSourceBase(targetBase);
        setTargetBase(sourceBase);
        if (currentResult && isValidNumberForBase(currentResult, targetBase)) {
          setInputValue(currentResult);
          setInputError('');
          setResult(currentInput);
          if (currentInput && !isValidNumberForBase(currentInput, sourceBase)){
             setInputError(`Carattere non valido per la base ${sourceBase}.`);
          }
        } else if (currentInput && isValidNumberForBase(currentInput, targetBase)) {
          setInputValue(currentInput);
          setInputError('');
          setResult('');
        } else {
          if(currentInput && !isValidNumberForBase(currentInput, targetBase)) {
            setInputError(`L'input '${currentInput}' non Ã¨ valido per la nuova base di origine ${targetBase}.`);
          }
          setResult('');
        }
        setError('');
      };

      return (
        React.createElement(Card, { title: "ModalitÃ  Convertitore", className: "max-w-2xl mx-auto" },
          React.createElement("div", { className: "space-y-6" },
            React.createElement(Input, {
              label: "Valore da Convertire",
              id: "inputValue",
              value: inputValue,
              onChange: handleInputChange,
              placeholder: `Inserisci un numero in base ${sourceBase}`,
              error: inputError
            }),
            React.createElement("div", { className: "flex items-end space-x-4" },
              React.createElement(Select, {
                label: "Da Base",
                id: "sourceBase",
                options: BASE_OPTIONS,
                value: sourceBase,
                onChange: handleSourceBaseChange,
                containerClassName: "flex-1"
              }),
              React.createElement(Button, {
                onClick: swapBases,
                variant: "secondary",
                className: "p-2 h-10 mt-1",
                "aria-label": "Scambia basi"
              },
                React.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", className: "w-5 h-5" },
                  React.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M7.5 21L3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5" })
                )
              ),
              React.createElement(Select, {
                label: "A Base",
                id: "targetBase",
                options: BASE_OPTIONS,
                value: targetBase,
                onChange: handleTargetBaseChange,
                containerClassName: "flex-1"
              })
            ),
            React.createElement(Button, { onClick: handleConvert, fullWidth: true, disabled: !!inputError || inputValue.trim() === '' }, "Converti"),
            error && (
              React.createElement("div", { className: "p-3 bg-red-100 border border-red-300 text-red-700 rounded-md text-sm" }, error)
            ),
            result && !error && (
              React.createElement("div", null,
                React.createElement("label", { className: "block text-sm font-medium text-gray-700 mb-1" }, "Risultato"),
                React.createElement("div", { className: "p-3 bg-green-50 border border-green-300 text-green-700 rounded-md text-lg font-mono break-all" }, result)
              )
            )
          )
        )
      );
    };
    // --- END OF INLINED components/ConversionForm.tsx ---

    // --- START OF INLINED components/PracticeMode.tsx ---
    const PracticeMode = () => {
      const [problem, setProblem] = useState(null);
      const [userAnswer, setUserAnswer] = useState('');
      const [isMarkedAsInvalidByUser, setIsMarkedAsInvalidByUser] = useState(false);
      const [feedback, setFeedback] = useState('');
      const [isCorrect, setIsCorrect] = useState(null);
      const [answerError, setAnswerError] = useState('');
      const [allowRetry, setAllowRetry] = useState(false);
      const [isCurrentProblemScoredOrAttempted, setIsCurrentProblemScoredOrAttempted] = useState(false);
      const [solutionStepsHtml, setSolutionStepsHtml] = useState('');
      const [showStarAnimation, setShowStarAnimation] = useState(false);
      const [totalUniqueQuestions] = useState(OCR_EXERCISES.length > 0 ? OCR_EXERCISES.length : 1);
      const [showEndOfCycleMessage, setShowEndOfCycleMessage] = useState(false);
      const correctAnswerSoundRef = useRef(null);

      const [score, setScore] = useState(() => {
        const savedScore = localStorage.getItem(LS_PRACTICE_SCORE_KEY);
        return savedScore ? parseInt(savedScore, 10) : 0;
      });
      const [questionsAttempted, setQuestionsAttempted] = useState(() => {
        const savedAttempts = localStorage.getItem(LS_PRACTICE_ATTEMPTED_KEY);
        return savedAttempts ? parseInt(savedAttempts, 10) : 0;
      });
      const [currentProblemIndex, setCurrentProblemIndex] = useState(() => {
        const savedIndex = localStorage.getItem(LS_PRACTICE_INDEX_KEY);
        // If a full cycle was completed, index should be 0 for the end message or new cycle.
        const savedAttemptsNum = localStorage.getItem(LS_PRACTICE_ATTEMPTED_KEY) ? parseInt(localStorage.getItem(LS_PRACTICE_ATTEMPTED_KEY),10) : 0;
        const totalQ = OCR_EXERCISES.length > 0 ? OCR_EXERCISES.length : 1;
        if (savedAttemptsNum === totalQ && totalQ > 0) {
            return 0;
        }
        return savedIndex ? parseInt(savedIndex, 10) : 0;
      });

      useEffect(() => {
        localStorage.setItem(LS_PRACTICE_SCORE_KEY, score.toString());
      }, [score]);

      useEffect(() => {
        localStorage.setItem(LS_PRACTICE_ATTEMPTED_KEY, questionsAttempted.toString());
      }, [questionsAttempted]);

      useEffect(() => {
        // Only save currentProblemIndex if not in a state of having just completed a cycle
        // and score/attempts are reset (which means user intends to start fresh or is seeing end message for index 0)
        if (!(questionsAttempted === 0 && score === 0 && currentProblemIndex === 0)) {
            localStorage.setItem(LS_PRACTICE_INDEX_KEY, currentProblemIndex.toString());
        } else if (questionsAttempted === 0 && score === 0 && currentProblemIndex === 0 && !showEndOfCycleMessage) {
            // Fresh start, explicitly save 0
             localStorage.setItem(LS_PRACTICE_INDEX_KEY, '0');
        }
      }, [currentProblemIndex, score, questionsAttempted, showEndOfCycleMessage]);

      useEffect(() => {
        if (questionsAttempted === totalUniqueQuestions && totalUniqueQuestions > 0 && !allowRetry) {
            setShowEndOfCycleMessage(true);
        } else {
             setShowEndOfCycleMessage(false);
        }
      }, [questionsAttempted, totalUniqueQuestions, score, allowRetry]);


      const getBaseLabel = useCallback((baseValue) => {
        return BASE_OPTIONS.find(b => b.value === baseValue)?.label || `Base ${baseValue}`;
      }, []);

      const getValidityExplanation = (base) => {
        switch (base) {
          case Base.BINARY: return "contiene solo cifre '0' e '1'";
          case Base.OCTAL: return "contiene solo cifre da '0' a '7'";
          case Base.DECIMAL: return "contiene solo cifre da '0' a '9'";
          case Base.HEXADECIMAL: return "contiene solo cifre da '0' a '9' e lettere da 'A' a 'F' (maiuscole o minuscole)";
          default: return "ha un formato specifico";
        }
      };

      const loadProblem = useCallback((index) => {
        if (OCR_EXERCISES.length > 0) {
          const problemIdx = index % OCR_EXERCISES.length; // Ensure index is within bounds
          setProblem(OCR_EXERCISES[problemIdx]);
          // currentProblemIndex is already set by its own state setter
          setUserAnswer('');
          setIsMarkedAsInvalidByUser(false);
          setFeedback('');
          setIsCorrect(null);
          setAnswerError('');
          setAllowRetry(false);
          setIsCurrentProblemScoredOrAttempted(false);
          setSolutionStepsHtml('');
        }
      }, []);

      useEffect(() => {
        loadProblem(currentProblemIndex);
      }, [loadProblem, currentProblemIndex]);

      const generateNewProblem = useCallback(() => {
        if (showEndOfCycleMessage) {
            setScore(0);
            setQuestionsAttempted(0);
            setCurrentProblemIndex(0);
            setShowEndOfCycleMessage(false); // This will be set by the useEffect based on new Q_A
            // loadProblem(0) will be called by useEffect listening to currentProblemIndex
        } else {
            const nextIndex = (currentProblemIndex + 1) % (OCR_EXERCISES.length > 0 ? OCR_EXERCISES.length : 1);
            setCurrentProblemIndex(nextIndex);
            // loadProblem will be called by useEffect listening to currentProblemIndex
        }
      }, [currentProblemIndex, showEndOfCycleMessage, totalUniqueQuestions]);

      const handleAnswerChange = (e) => {
        const value = e.target.value;
        setUserAnswer(value);
        setSolutionStepsHtml('');

        if (allowRetry) {
            setAllowRetry(false);
            setIsCorrect(null);
            setFeedback('');
        }
        if (value.trim() !== '') {
            setIsMarkedAsInvalidByUser(false);
        }
        if (problem) {
          if (value.trim() === '') {
            setAnswerError('');
          } else if (!isValidNumberForBase(value, problem.targetBase)) {
            setAnswerError(`Carattere non valido per la ${getBaseLabel(problem.targetBase)}.`);
          } else {
            setAnswerError('');
          }
        } else {
          setAnswerError('');
        }
      };

      const handleInvalidCheckboxChange = (e) => {
        const checked = e.target.checked;
        setIsMarkedAsInvalidByUser(checked);
        setSolutionStepsHtml('');

        if (allowRetry && !checked) {
            setAllowRetry(false);
            setIsCorrect(null);
            setFeedback('');
        }
        if (checked) {
            setUserAnswer('');
            setAnswerError('');
            if (allowRetry) {
                 setAllowRetry(false);
                 setIsCorrect(null);
                 setFeedback('');
            }
        }
      };

      const checkAnswer = useCallback(() => {
        if (!problem) return;
        setSolutionStepsHtml('');
        let currentAttemptCorrectness = false;
        let currentFeedback = '';
        let shouldAllowRetry = false;
        let tempSolutionHtml = '';

        if (problem.isActuallyInvalid) {
          if (isMarkedAsInvalidByUser) {
            currentFeedback = `Corretto! Il numero '${problem.value}' non Ã¨ valido per la ${getBaseLabel(problem.base)}.`;
            currentAttemptCorrectness = true;
          } else {
            currentFeedback = `Sbagliato. Il numero originale '${problem.value}' Ã¨ effettivamente invalido per la ${getBaseLabel(problem.base)}. Avresti dovuto selezionare la casella 'Input Invalido'.`;
            currentAttemptCorrectness = false;
          }
        } else {
          if (isMarkedAsInvalidByUser) {
            currentFeedback = `Sbagliato. Il numero originale '${problem.value}' Ã¨ valido per la ${getBaseLabel(problem.base)} perchÃ© ${getValidityExplanation(problem.base)}. Non avresti dovuto selezionare 'Input Invalido'. Riprova.`;
            currentAttemptCorrectness = false;
            shouldAllowRetry = true;
          } else {
            if (userAnswer.trim() === '') {
                currentFeedback = 'Per favore, inserisci una risposta.';
                currentAttemptCorrectness = false;
            } else if (answerError) {
                 currentFeedback = 'Per favore, correggi la tua risposta (caratteri non validi).';
                 currentAttemptCorrectness = false;
            } else if (userAnswer.toUpperCase() === problem.correctAnswer.toUpperCase()) {
              currentFeedback = 'Corretto!';
              currentAttemptCorrectness = true;
            } else {
              currentFeedback = `Sbagliato. La risposta corretta Ã¨ ${problem.correctAnswer.toUpperCase()}.`;
              currentAttemptCorrectness = false;
              if (problem.targetBase === Base.DECIMAL) {
                tempSolutionHtml = generateSolutionToDecimalHTML(problem.value, problem.base, problem.correctAnswer);
              } else if (problem.base === Base.DECIMAL) {
                tempSolutionHtml = generateSolutionFromDecimalHTML(problem.value, problem.targetBase, problem.correctAnswer);
              }
            }
          }
        }
        setIsCorrect(currentAttemptCorrectness);
        setFeedback(currentFeedback);
        setAllowRetry(shouldAllowRetry);
        if (!currentAttemptCorrectness && !shouldAllowRetry && !problem.isActuallyInvalid) {
          setSolutionStepsHtml(tempSolutionHtml);
        }

        if (!isCurrentProblemScoredOrAttempted && !shouldAllowRetry) {
            let newScore = score;
            if(currentAttemptCorrectness) {
                newScore = score + 1;
                setScore(newScore); // Triggers localStorage update
                setShowStarAnimation(true);
                if (correctAnswerSoundRef.current) {
                    correctAnswerSoundRef.current.currentTime = 0;
                    correctAnswerSoundRef.current.play().catch(error => console.error("Errore durante la riproduzione del suono:", error));
                }
                setTimeout(() => setShowStarAnimation(false), 3500);
            }
            const newQuestionsAttempted = questionsAttempted + 1;
            setQuestionsAttempted(newQuestionsAttempted); // Triggers localStorage update & end-of-cycle check
            setIsCurrentProblemScoredOrAttempted(true);
            // End of cycle message is handled by useEffect dependent on questionsAttempted
        }
      }, [problem, userAnswer, isMarkedAsInvalidByUser, answerError, getBaseLabel, getValidityExplanation, isCurrentProblemScoredOrAttempted, score, questionsAttempted, totalUniqueQuestions]);

      const handleRetryAttempt = () => {
        setAllowRetry(false);
        setIsCorrect(null);
        setFeedback('');
        setIsMarkedAsInvalidByUser(false);
        setAnswerError('');
        setSolutionStepsHtml('');
      };

      if (!problem || OCR_EXERCISES.length === 0) {
        return (
          React.createElement(Card, { className: "max-w-4xl mx-auto text-center" },
            React.createElement("p", { className: "text-gray-600" }, "Caricamento problema di pratica o nessun esercizio disponibile...")
          )
        );
      }

      const canCheckAnswer = !allowRetry && (isMarkedAsInvalidByUser || (userAnswer.trim() !== '' && !answerError));
      const inputsDisabled = (isCorrect !== null && !allowRetry) || showEndOfCycleMessage;

      return (
        React.createElement(Card, { title: "ModalitÃ  Pratica - Esercizi Guidati", className: "max-w-4xl mx-auto" },
          React.createElement("audio", { ref: correctAnswerSoundRef, src: "correct-answer.mp3", preload: "auto", className: "visually-hidden", "aria-hidden": "true" }),
          React.createElement("div", { className: "space-y-6" },
            React.createElement("div", { className: "mb-4 relative" },
              React.createElement("p", { className: "text-sm text-gray-500 text-center flex items-center justify-center" },
                React.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 20 20", fill: "currentColor", className: "w-5 h-5 text-yellow-400 mr-1" },
                    React.createElement("path", { fillRule: "evenodd", d: "M10.868 2.884c.321-.772 1.415-.772 1.736 0l1.83 4.401 4.753.392c.832.069 1.171 1.023.574 1.581l-3.454 2.975 1.036 4.633c.183.811-.707 1.446-1.423.994L10 15.341l-4.118 2.522c-.716.452-1.606-.183-1.423-.994l1.036-4.633L2.039 9.259c-.597-.558-.258-1.512.574-1.581l4.753-.392 1.83-4.401z", clipRule: "evenodd" })
                ),
                `Punteggio: ${score} / ${questionsAttempted}`
              ),
              showStarAnimation && React.createElement("div", {
                className: "absolute bottom-full left-1/2 -translate-x-1/2 mb-1 px-2 py-0.5 bg-yellow-400 text-black text-xs font-semibold rounded-full shadow-md animate-star-gain",
                style: { whiteSpace: 'nowrap' },
                role: "status",
                "aria-live": "polite"
               }, "+1 stella!")
            ),

            !showEndOfCycleMessage && React.createElement("div", { className: "p-4 bg-slate-50 rounded-lg text-center" },
              React.createElement("p", { className: "text-gray-700 text-sm mb-1" }, "Converti il seguente numero (o valuta la sua validitÃ ):"),
              React.createElement("p", {
                className: "font-bold text-2xl text-blue-600 font-mono break-all",
                "aria-live": "polite"
              }, problem.value),
              React.createElement("p", { className: "text-gray-600 text-sm" }, `da ${getBaseLabel(problem.base)}`),
              React.createElement("p", { className: "text-gray-700 text-sm mt-1" }, `a ${getBaseLabel(problem.targetBase)}`)
            ),
            !showEndOfCycleMessage && React.createElement("div", { className: "mt-4 flex items-center" },
              React.createElement("input", {
                id: "isInvalidCheckbox",
                type: "checkbox",
                checked: isMarkedAsInvalidByUser,
                onChange: handleInvalidCheckboxChange,
                disabled: inputsDisabled,
                className: "h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              }),
              React.createElement("label", { htmlFor: "isInvalidCheckbox", className: "ml-2 block text-sm text-gray-700" }, "L'input fornito Ã¨ invalido per la sua base")
            ),
            !showEndOfCycleMessage && React.createElement(Input, {
              label: `La tua Risposta (in ${getBaseLabel(problem.targetBase)})`,
              id: "userAnswer",
              value: userAnswer,
              onChange: handleAnswerChange,
              placeholder: "Valore convertito",
              disabled: inputsDisabled || isMarkedAsInvalidByUser,
              error: answerError,
              "aria-describedby": "problem-description"
            }),
            !showEndOfCycleMessage && React.createElement("div", { id: "problem-description", className: "visually-hidden" }, `Converti ${problem.value} da ${getBaseLabel(problem.base)} a ${getBaseLabel(problem.targetBase)}. ${problem.questionDescription}`),

            feedback && !showEndOfCycleMessage && (
              React.createElement("div", { role: "alert", className: `p-3 rounded-md text-sm ${isCorrect && !allowRetry ? 'bg-green-100 border border-green-300 text-green-700' : 'bg-red-100 border border-red-300 text-red-700'}` }, feedback)
            ),
            solutionStepsHtml && !showEndOfCycleMessage && (
              React.createElement("div", {
                className: "mt-4 p-4 border border-gray-300 rounded-md bg-gray-50 text-sm",
                dangerouslySetInnerHTML: { __html: solutionStepsHtml }
              })
            ),

            showEndOfCycleMessage && (() => {
                const percentage = totalUniqueQuestions > 0 ? Math.round((score / totalUniqueQuestions) * 100) : 0;
                const rating = totalUniqueQuestions > 0 ? (score / totalUniqueQuestions) * 5 : 0;

                let feedbackContent;
                if (percentage < 50) {
                    feedbackContent = {
                        title: "Ogni percorso inizia con un primo passo",
                        message: "Non scoraggiarti: ogni errore Ã¨ unâ€™opportunitÃ  di apprendimento. Continua a esercitarti e i risultati miglioreranno con costanza e impegno."
                    };
                } else if (percentage < 70) {
                    feedbackContent = {
                        title: "Un buon punto di partenza",
                        message: "Hai compreso diversi concetti, ma câ€™Ã¨ ancora margine di crescita. Rivedi gli argomenti meno chiari e continua a lavorare con determinazione."
                    };
                } else if (percentage < 90) {
                    feedbackContent = {
                        title: "Un risultato solido",
                        message: "Hai dimostrato una buona preparazione. Con un piccolo sforzo in piÃ¹, potrai raggiungere lâ€™eccellenza. Continua cosÃ¬!"
                    };
                } else {
                    feedbackContent = {
                        title: "Ottima performance",
                        message: "Hai ottenuto un risultato eccellente. Mantieni questo livello di preparazione e continua a coltivare la tua curiositÃ  e la voglia di migliorare."
                    };
                }

                const fullStars = Math.round(rating);
                const emptyStars = 5 - fullStars;

                return React.createElement("div", {
                    className: "p-6 bg-blue-50 border border-blue-200 rounded-lg text-center space-y-4",
                    role: "alert"
                },
                    React.createElement("img", { src: "animazione stella.gif", alt: "Stella animata", className: "max-h-40 w-auto mx-auto" }),
                    React.createElement("h3", { className: "font-bold text-2xl text-slate-800" }, feedbackContent.title),
                    React.createElement("div", { className: "flex justify-center space-x-1 my-2" },
                        [...Array(fullStars)].map((_, i) =>
                            React.createElement("svg", { key: `full-${i}`, xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 20 20", fill: "currentColor", className: "w-8 h-8 text-yellow-400" },
                                React.createElement("path", { fillRule: "evenodd", d: "M10.868 2.884c.321-.772 1.415-.772 1.736 0l1.83 4.401 4.753.392c.832.069 1.171 1.023.574 1.581l-3.454 2.975 1.036 4.633c.183.811-.707 1.446-1.423.994L10 15.341l-4.118 2.522c-.716.452-1.606-.183-1.423-.994l1.036-4.633L2.039 9.259c-.597-.558-.258-1.512.574-1.581l4.753-.392 1.83-4.401z", clipRule: "evenodd" })
                            )
                        ),
                        [...Array(emptyStars)].map((_, i) =>
                            React.createElement("svg", { key: `empty-${i}`, xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", className: "w-8 h-8 text-gray-300" },
                                React.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.616.05.865.87.413 1.285l-4.096 3.745a.563.563 0 0 0-.168.59l1.286 5.484c.118.508-.423.918-.87.62l-4.78-2.922a.563.563 0 0 0-.58 0l-4.78 2.922c-.447.298-.988-.112-.87-.62l1.286-5.484a.563.563 0 0 0-.168-.59l-4.096-3.745c-.452-.415-.203-1.235.413-1.285l5.518-.442a.563.563 0 0 0 .475-.345l2.125-5.111Z" })
                            )
                        )
                    ),
                    React.createElement("p", { className: "font-semibold text-slate-700" }, `Hai totalizzato ${score} su ${totalUniqueQuestions} (${percentage}%)`),
                    React.createElement("p", { className: "text-slate-600 text-sm" }, feedbackContent.message)
                );
            })(),

            React.createElement("div", { className: "flex space-x-4" },
              isCorrect !== null && !showEndOfCycleMessage ? (
                allowRetry ? (
                  React.createElement(Button, { onClick: handleRetryAttempt, fullWidth: true }, "Riprova")
                ) : (
                  React.createElement(Button, { onClick: generateNewProblem, variant: "secondary", fullWidth: true }, "Prossima Domanda")
                )
              ) : (
                showEndOfCycleMessage ? (
                    React.createElement(Button, { onClick: generateNewProblem, variant: "primary", fullWidth: true }, "Ricomincia Esercizi")
                ) : (
                    React.createElement(Button, { onClick: checkAnswer, fullWidth: true, disabled: !canCheckAnswer }, "Controlla Risposta")
                )
              )
            ),
             OCR_EXERCISES.length > 0 && !showEndOfCycleMessage && (
                 React.createElement("p", { className: "text-xs text-center text-gray-500" }, `Esercizio ${currentProblemIndex + 1} di ${OCR_EXERCISES.length}`)
            )
          )
        )
      );
    };
    // --- END OF INLINED components/PracticeMode.tsx ---

    // --- START OF INLINED App.tsx ---
    const App = () => {
      const [mode, setMode] = useState('converter');
      const [fontSizeScale, setFontSizeScale] = useState(DEFAULT_GLOBAL_FONT_SCALE);

      useEffect(() => {
        document.documentElement.style.fontSize = `${fontSizeScale * 100}%`;
        localStorage.setItem('fontSizeScale', fontSizeScale.toString());
      }, [fontSizeScale]);

      useEffect(() => {
        const storedScale = localStorage.getItem('fontSizeScale');
        if (storedScale) {
          setFontSizeScale(parseFloat(storedScale));
        }
      }, []);

      const increaseFontSize = () => {
        setFontSizeScale(prev => Math.min(MAX_GLOBAL_FONT_SCALE, prev + GLOBAL_FONT_SCALE_STEP));
      };

      const decreaseFontSize = () => {
        setFontSizeScale(prev => Math.max(MIN_GLOBAL_FONT_SCALE, prev - GLOBAL_FONT_SCALE_STEP));
      };

      return (
        React.createElement("div", { className: "min-h-screen bg-slate-100 py-8 px-4 flex flex-col items-center" },
          React.createElement("header", { className: "mb-10 text-center" },
            React.createElement("h1", { className: "text-4xl font-bold text-blue-700" }, "Convertitore tra Basi Numeriche"),
            React.createElement("p", { className: "text-slate-600 mt-2" }, "Esercitati a convertire tra Decimale, Binario, Ottale ed Esadecimale.")
          ),
          React.createElement("div", { className: "mb-8 flex space-x-2 p-1 bg-white rounded-full shadow-lg" },
            React.createElement(Button, {
              variant: mode === 'converter' ? 'tab-active' : 'tab',
              onClick: () => setMode('converter')
            }, "Convertitore"),
            React.createElement(Button, {
              variant: mode === 'practice' ? 'tab-active' : 'tab',
              onClick: () => setMode('practice'),
              className: mode !== 'practice' ? 'animate-flashing-border' : ''
            }, "Pratica")
          ),
          React.createElement("main", { className: "w-full" },
            mode === 'converter' && React.createElement(ConversionForm, null),
            mode === 'practice' && React.createElement(PracticeMode, null)
          ),
          React.createElement(FontSizeControls, {
            scale: fontSizeScale,
            increase: increaseFontSize,
            decrease: decreaseFontSize,
            minScale: MIN_GLOBAL_FONT_SCALE,
            maxScale: MAX_GLOBAL_FONT_SCALE
          }),
          React.createElement("footer", { className: "mt-12 text-center text-sm text-gray-500" },

          )
        )
      );
    };
    // --- END OF INLINED App.tsx ---

    // --- START OF INLINED index.tsx ---
    const rootElement = document.getElementById('root');
    if (!rootElement) {
      throw new Error("Could not find root element to mount to");
    }
    const root = ReactDOM.createRoot(rootElement);
    root.render(
      React.createElement(React.StrictMode, null,
        React.createElement(App, null)
      )
    );
    // --- END OF INLINED index.tsx ---
  </script>
</body>
</html>
